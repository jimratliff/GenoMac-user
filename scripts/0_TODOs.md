# To Dos for scripts directory
This list is being generated January 28, 2026 during a major refactoring of GenoMac-user
(to conform to the advancements during the recent Hypervisor-transformation of GenoMac-system).

- ❑ Renamimg 0_initialize_me.sh to 0_initialize_me_first.sh
  - ✅ Rename the function itself
  - ❑ Make more robust how it determines its own directory (i.e., don’t use `"${0:A}"`)
    - IN PROCESS
  - ❑ Replace 0_initialize_me.sh → 0_initialize_me_first.sh in all scripts that retain a preamble
- ❑ Each script file (other than hypervisor and some utility scripts)
  - ✅ Remove entire preamble, e.g.,: source "${HOME}/.genomac-user/scripts/0_initialize_me.sh"
- Hypervisor
  - ✅ Make scripts/hypervisor directory
  - ✅ scripts/hypervisor/hypervisor.sh
  - ❑ subdermis
  - ❑ Re-write scripts/run_hypervisor.sh entry point for Make recipe
  - ✅ Move assign_enum_env_vars_for_states.sh to scripts/hypervisor
- environment variables
  - ✅ Why isn't GMU_SCRIPTS_DIR used anywhere? Is there something else, by a different name, doing the same thing?
    - ✅ Refactored into oblivion
  - ✅ GENOMAC_USER_LOCAL_RESOURCE_DIRECTORY →   GMU_RESOURCES (These BOTH seem to exist!)
  - ✅ Create GMU_HYPERVISOR_SCRIPTS
  - ✅ GMU_PREFS_SCRIPTS → GMU_SETTINGS_SCRIPTS
  - ✅ GENOMAC_USER_DOCS_TO_DISPLAY_DIRECTORY → GMU_DOCS_TO_DISPLAY
  - ✅ New?: GMU_SCRIPTS
    - Yes, Exported but not used outside its defining script. But worth exporting anyway
  - ✅ Refactor name of GENOMAC_USER_LOCAL_STOW_DIRECTORY for consistency with similar names
    - ✅ GENOMAC_USER_LOCAL_STOW_DIRECTORY → GMU_STOW_DIR
  - ✅ Refactor name of GENOMAC_USER_LOCAL_DEFAULTS_DETECTIVE_RESULTS for consistency with similar names
    - ✅ GENOMAC_USER_LOCAL_DEFAULTS_DETECTIVE_RESULTS → GMU_LOCAL_DEFAULTS_DETECTIVE_RESULTS
- ❑ pref_scripts → settings
  - ✅ rename the path of each script
  - ❑ update the environment variable that points to this directory
  - ❑ update the `source` statements that load them
- Other stuff
  - ❑ verify_ssh_agent_configuration may be in two places?
    - It’s in scripts/settings/interactive_configure_1password.sh at the least
  - ✅ defaults-detective
    - Currently partly misfiled (This should be rationalized)
      - the entry point (defaults_detective.sh) is OK: scripts/utilities
      - but there’s a separate scripts/default_detective directory
  - ❑ set_power_management_settings.sh
    - ❑ Marked as WIP
    - ❑ The test for laptop should be pulled out into GenoMac-shared as a helper (if it's not already)
    - ❑ Is this really at the user level instead of system level?
  - ❑ Add an interactive request to set the screensaver to Matrix
- ✅ shebang: Use portable version: #!/usr/bin/env zsh
  - ✅ GenoMac-user: Use only #!/usr/bin/env zsh
  - ✅ GeoMac-system: Use only #!/usr/bin/env zsh
- ✅ scripts/tests
  - ✅ Create scripts/tests directory
  - ✅ rename path of each test script
  - ✅ All of the `make` recipes that target these scripts must be updated to reflect the current directory
    scripts/tests (instead of the prior scripts/).
